apiVersion: v1
kind: Pod
metadata:
  name : nginx
  labels:
    app: nginx
    type: front-end
spec:
  containers:
    - name: nginx
      image: nginx
      ports:
        - containerPort: 80
          hostPort: 8080
      resources:
        requests:
          cpu: "100m"
          memory: "128Mi"
        limits:
          cpu: "100m"
          memory: "128Mi"
      volumeMounts:
        - mountPath: /etc/nginx/conf.d/
          name: nginx-config
  volumes:
    - name: nginx-config
      configMap:
        name: nginx-config
        items:
          - key: nginx.conf
            path: nginx.conf
          - key: default.conf
            path: default.conf